<!DOCTYPE html> <html lang="en"><head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"><title>JSON feed for Jekyll sites</title><!-- Begin Jekyll SEO tag v2.6.1 --> <meta name="generator" content="Jekyll v3.8.7" /> <meta property="og:title" content="JSON feed for Jekyll sites" /> <meta name="author" content="Ioannis Diamantidis" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A post about feeds, JSON feed and how to add in on a Jekyll site" /> <meta property="og:description" content="A post about feeds, JSON feed and how to add in on a Jekyll site" /> <link rel="canonical" href="https://diamantidis.github.io/2019/10/05/json-feed-for-jekyll-sites" /> <meta property="og:url" content="https://diamantidis.github.io/2019/10/05/json-feed-for-jekyll-sites" /> <meta property="og:site_name" content="Ioannis Diamantidis" /> <meta property="og:image" content="https://diamantidis.github.io/assets/socialIcon.png" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2019-10-05T04:00:00+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:image" content="https://diamantidis.github.io/assets/socialIcon.png" /> <meta property="twitter:title" content="JSON feed for Jekyll sites" /> <meta name="twitter:site" content="@diamantidis_io" /> <meta name="twitter:creator" content="@diamantidis_io" /> <script type="application/ld+json"> {"headline":"JSON feed for Jekyll sites","dateModified":"2019-10-05T04:00:00+00:00","datePublished":"2019-10-05T04:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://diamantidis.github.io/2019/10/05/json-feed-for-jekyll-sites"},"author":{"@type":"Person","name":"Ioannis Diamantidis"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://diamantidis.github.io/assets/socialIcon.png"},"name":"Ioannis Diamantidis"},"url":"https://diamantidis.github.io/2019/10/05/json-feed-for-jekyll-sites","description":"A post about feeds, JSON feed and how to add in on a Jekyll site","image":"https://diamantidis.github.io/assets/socialIcon.png","@type":"BlogPosting","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <link rel="stylesheet" href="/assets/main.css"><link rel="apple-touch-icon" href="/assets/apple-touch-icon.png"/> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"> <link rel="manifest" href="/assets/site.webmanifest"> <link rel="mask-icon" href="assets/safari-pinned-tab.svg" color="#5bbad5"> <link rel="shortcut icon" href="/assets/favicon.ico"> <meta name="msapplication-TileColor" content="#da532c"> <meta name="msapplication-config" content="/assets/browserconfig.xml"> <meta name="theme-color" content="#ffffff"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"><link type="application/atom+xml" rel="alternate" href="https://diamantidis.github.io/feed.xml" title="Ioannis Diamantidis" /><script> if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) { (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-121787430-1', 'auto'); ga('send', 'pageview'); ga('set', 'anonymizeIp', true); } </script> </head> <body><header class="site-header" role="banner"> <div class="wrapper">
<div class="left-container"> <div class="title-wrapper"> <a class="site-title" rel="author" href="/"> <h1>Ioannis Diamantidis</h1> </a> </div> <div class="footer-icons"> <ul> <li> <div class="social-icon"> <a href="https://twitter.com/diamantidis_io" aria-label="Twitter"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://github.com/diamantidis" aria-label="GitHub"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="http://linkedin.com/in/ioannis-diamantidis" aria-label="LinkedIn"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://instagram.com/diama.codes" aria-label="Instagram"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="/feed.xml" aria-label="RSS Feed"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="mailto:diamantidis@outlook.com" aria-label="Email"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> </ul> </div> </div>
<nav class="site-nav"> <input type="checkbox" id="nav-trigger" class="nav-trigger"> <label for="nav-trigger"> <span class="menu-icon"> <svg viewbox="0 0 18 15" width="18px" height="15px"> <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path> </svg> </span> </label> <div class="trigger"> <a class="page-link" href="/tips" title="Tips">Tips</a><a class="page-link" href="/about" title="About">About</a><a class="page-link" href="/archive" title="Archive">Archive</a><a class="page-link" href="/tags" title="Tags">Tags</a>
</div> </nav>
</div> </header><main class="page-content" aria-label="Content"> <div class="wrapper"> <article class="post"> <header class="post-header"> <h1> <span class="post-title">JSON feed for Jekyll sites</span> </h1> <div class="post-subheader"> <span class="post-date"> October 5, 2019 </span> <span class="post-divider">-</span> <span class="post-minutes"> 5 min read </span> <div class="outer-post-tags"> <div class="post-tags"> <a class="post-tag" href="/tags#Jekyll" title="Jekyll">Jekyll</a> <a class="post-tag" href="/tags#JSON+feed" title="JSON feed">JSON feed</a> </div> </div> </div> </header> <div class="post-content"> <p>Feed is a term used to usually describe a text file that provides information about the content of a website and it is primarily intended to be used for data exchange purposes.</p> <p>By following some specific schema specifications about the format of the file, a feed can be used by other apps or tools, which will read the content of a website, store it and if there is for example an update, they will notify the user about the new content.</p> <p>There are plenty such schema specifications and the most popular are <a href="https://tools.ietf.org/html/rfc4287">Atom</a> and <a href="http://www.faqs.org/rfcs/rfc3339.html">RSS</a> which both are using an XML-based format. But since JSON is the most prominent data format amongst developers, new options emerge, like the <a href="https://jsonfeed.org/">JSON feed</a>.</p> <p>Since the launch of this blog, a plugin named <a href="https://github.com/jekyll/jekyll-feed">jekyll-feed</a> is used to generate an Atom feed, which is still <a href="https://diamantidis.github.io/feed.xml">in place</a> till now.</p> <p>So, why do I need a JSON feed if I already have an Atom one?</p> <h2 id="but-why">But why?</h2> <p>First and foremost, it doesn’t hurt to support yet another format that may be used by some readers.</p> <p>Furthermore, on top of what I previously mentioned about the popularity of JSON compared to XML, JSON files are easier to read, write, and also when it comes to developing an application that will have to parse a JSON. In most programming languages, it’s just a matter of a few lines of code. As a result, having a JSON-formatted feed will allow me to implement more interesting stuff in the future based on this feed.</p> <p>Recently, I have been exploring the potential of Kotlin Native. So far, my main focus was on the fundamentals and the whole process has been recorded in <a href="https://diamantidis.github.io/tags#KMP">a series of posts</a>. And now, time has come to try it out on a more real-world use case that will help be to get better insights on the benefits and the shortcomings of Kotlin Native.</p> <p>After a lot of consideration, I ended up choosing to build a feed reader for this site. Implementing such a project will give me the opportunity to use a shared library for features like networking, data de-serialization, storing user preferences and much more yet to be found.</p> <p>To be honest, the existing Atom feed could also have be used, but the lack of options for parsing an XML from a Kotlin Native library and the fact that <a href="https://github.com/Kotlin/kotlinx.serialization">KotlinX serialization</a> makes it a breeze to de-serialize a JSON string, make it a no-brainer for me!</p> <p>So, that’s more or less my thought process and how I decided to add a JSON Feed on this blog, and now, it’s time to move on to the actual implementation!</p> <h2 id="implementation">Implementation</h2> <p>First thing first, let’s take a look at <a href="https://jsonfeed.org/version/1">the specifications of the JSON Feed</a>. Based on that, the implementation of JSON feed for a Jekyll site is fairly simple. It just requires adding a file named <code class="language-plaintext highlighter-rouge">feed.json</code> on the root folder of your project with the following content:</p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="o">---</span>
<span class="ss">layout: </span><span class="n">null</span>
<span class="ss">permalink: </span><span class="n">feed</span><span class="p">.</span><span class="nf">json</span>
<span class="o">---</span>

<span class="p">{</span>
    <span class="s2">"version"</span><span class="p">:</span> <span class="s2">"https://jsonfeed.org/version/1"</span><span class="p">,</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"{{ site.title }}"</span><span class="p">,</span>
    <span class="s2">"home_page_url"</span><span class="p">:</span> <span class="s2">"{{ site.url }}"</span><span class="p">,</span>
    <span class="s2">"feed_url"</span><span class="p">:</span> <span class="s2">"{{ site.url }}/feed.json"</span><span class="p">,</span>
    <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"{{ site.description }}"</span><span class="p">,</span>
    <span class="s2">"icon"</span><span class="p">:</span> <span class="s2">"{{ site.url }}{{ site.logo }}"</span><span class="p">,</span>
    <span class="s2">"favicon"</span><span class="p">:</span> <span class="s2">"{{ site.url }}/favicon.ico"</span><span class="p">,</span>
    <span class="s2">"expired"</span><span class="p">:</span> <span class="kp">false</span><span class="p">,</span>
    <span class="s2">"author"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"{{ site.author.name }}"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"{{ site.url }}"</span>
    <span class="p">},</span>
    <span class="s2">"items"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="sx">% for </span><span class="n">post</span> <span class="k">in</span> <span class="n">site</span><span class="p">.</span><span class="nf">posts</span> <span class="sx">%}
        {
            "id": "{{ post.url | absolute_url | sha1 }</span><span class="p">}</span><span class="s2">",
            "</span><span class="n">url</span><span class="s2">": "</span><span class="p">{{</span> <span class="n">site</span><span class="p">.</span><span class="nf">url</span> <span class="p">}}{{</span> <span class="n">post</span><span class="p">.</span><span class="nf">url</span> <span class="p">}}</span><span class="s2">",
            "</span><span class="n">title</span><span class="s2">": {{ post.title | jsonify }},
            "</span><span class="n">date_published</span><span class="s2">": "</span><span class="p">{{</span> <span class="n">post</span><span class="p">.</span><span class="nf">date</span> <span class="o">|</span> <span class="n">date_to_xmlschema</span> <span class="p">}}</span><span class="s2">",
            {% if post.date-updated %}
            "</span><span class="n">date_modified</span><span class="s2">": "</span><span class="p">{{</span> <span class="n">post</span><span class="p">.</span><span class="nf">date</span><span class="o">-</span><span class="n">updated</span> <span class="o">|</span> <span class="n">date_to_xmlschema</span> <span class="p">}}</span><span class="s2">",
            {% else %}
            "</span><span class="n">date_modified</span><span class="s2">": "</span><span class="p">{{</span> <span class="n">post</span><span class="p">.</span><span class="nf">date</span> <span class="o">|</span> <span class="n">date_to_xmlschema</span> <span class="p">}}</span><span class="s2">",
            {% endif %}
            "</span><span class="n">author</span><span class="s2">": {
                "</span><span class="nb">name</span><span class="s2">": "</span><span class="p">{{</span> <span class="n">site</span><span class="p">.</span><span class="nf">author</span><span class="p">.</span><span class="nf">name</span> <span class="p">}}</span><span class="s2">",
                "</span><span class="n">url</span><span class="s2">": "</span><span class="p">{{</span> <span class="n">site</span><span class="p">.</span><span class="nf">url</span> <span class="p">}}</span><span class="s2">"
            },
            "</span><span class="n">summary</span><span class="s2">": {{ post.excerpt | jsonify }},
            "</span><span class="n">content_html</span><span class="s2">": {{ post.content | jsonify }},
            "</span><span class="n">tags</span><span class="s2">": {{ post.tags | jsonify }},
            "</span><span class="n">image</span><span class="s2">": "</span><span class="p">{{</span> <span class="n">post</span><span class="p">.</span><span class="nf">image</span> <span class="o">|</span> <span class="n">absolute_url</span> <span class="p">}}</span><span class="s2">"
        }{% if forloop.last == false %},{% endif %}
        {% endfor %}
    ]
}</span></code></pre></figure> <p>In the snippet above, we make use of Jekyll’s global variable <code class="language-plaintext highlighter-rouge">site</code> to retrieve site-wide information and configuration. To render the posts, we iterate over the posts that we get from the <code class="language-plaintext highlighter-rouge">site</code> variable and apply some <a href="https://jekyllrb.com/docs/liquid/filters/">Liquid filters</a> to format the content.</p> <p>And, that’s all!</p> <p>If you try to run <code class="language-plaintext highlighter-rouge">bundle exec jekyll build</code> and navigate to the <code class="language-plaintext highlighter-rouge">_site</code> directory, you will be able to find a new file named <code class="language-plaintext highlighter-rouge">feed.json</code> that will contain a JSON-formatted feed, similar to the <a href="https://diamantidis.github.io/feed.json">one created for this site</a>.</p> <h2 id="conclusion">Conclusion</h2> <p>To sum up, in this post we have seen how easy it is to add support for JSON feed on a Jekyll site.</p> <p>Now, all you have to do is to find a feed reader app and use either the <a href="https://diamantidis.github.io/feed.xml">Atom</a> or the <a href="https://diamantidis.github.io/feed.json">JSON</a> feed to get notified when some new post is published! <img class="emoji" title=":smile:" alt=":smile:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" height="20" width="20"></p> <p>In the meantime, I will be able to focus on to the actual implementation of my feed reader using Kotlin Native!</p> <p>Thanks for reading, I hope that you found this post useful and should you have any suggestions on any other questions or comments, just let me know on <a href="https://twitter.com/diamantidis_io">Twitter</a> or by <a href="mailto:diamantidis@outlook.com">email</a>!</p> </div> <div class="share"> <strong>Share: </strong> <a href="//twitter.com/share?text=JSON+feed+for+Jekyll+sites&amp;url=https%3A%2F%2Fdiamantidis.github.io%2F2019%2F10%2F05%2Fjson-feed-for-jekyll-sites" aria-label="Share on Twitter" onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> <a href="//www.facebook.com/sharer.php?t=JSON+feed+for+Jekyll+sites&amp;u=https%3A%2F%2Fdiamantidis.github.io%2F2019%2F10%2F05%2Fjson-feed-for-jekyll-sites" aria-label="Share on Facebook" onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </span> </a> <a href="//www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fdiamantidis.github.io%2F2019%2F10%2F05%2Fjson-feed-for-jekyll-sites" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div></article> </div> </main><footer class="site-footer"> <data class="u-url" href="/"></data> <div class="footer-icons"> <ul> <li> <div class="social-icon"> <a href="https://twitter.com/diamantidis_io" aria-label="Twitter"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://github.com/diamantidis" aria-label="GitHub"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="http://linkedin.com/in/ioannis-diamantidis" aria-label="LinkedIn"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://instagram.com/diama.codes" aria-label="Instagram"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="/feed.xml" aria-label="RSS Feed"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="mailto:diamantidis@outlook.com" aria-label="Email"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> </ul> </div> <div class="wrapper"> <p>Built with <i class="fa fa-heart" aria-hidden="true"></i>, <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://pages.github.com/"> Github Pages</a> </p> <p> © Copyright 2020 Ioannis Diamantidis </p> </div> </footer></body> </html>
